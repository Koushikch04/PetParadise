<div class="message__records">
  <h2>Messages Records</h2>
  <form action="/profile/admin/messages" method="GET" class="records__container">
    <div class="records__header">
      <div class="sort__section">
        <h3>Sort By:</h3>

        <div id="modeForm">
            <% for(let i = 0; i < sortList.length; i++) { %> 
            <button>
              <input type="radio" name="sortSelector" value="<%= sortList[i].value %>" id="<%= i %>" <%= select === i ? "checked" : null   %> />
              <label name="sortSelector" value="<%= sortList[i].value %>" for="<%= i %>"><%= sortList[i].name %></label>
            </button>
            <% } %>
        </div>
      </div>

      
      <div class="search__section">
          <div
          id="searchForm"
          >
          <input type="text" class="search" name="search" value="<%= searchText %>" placeholder="Search by name or email"/>
          <button type="submit" class="search__button" >search</button>
          </div>
      </div>
    </div>

    <div class="records__header-2">
        <div class="filters__applied">
            <h3>Filters applied: </h3>
        </div>

        <% if (filters.length > 0) { %>
        <div class="filters__modal" onclick="modalOpenOrClose()">
          <span class="material-icons-sharp"> tune </span>
          <div href="" id="filterButton"> filters</div>
        </div>
        <% } else { %>
          <div class="filters__modal-disable">
            <span class="material-icons-sharp"> tune </span>
            <div href="" id="filterButton"> filters</div>
          </div>
        <% } %>
    </div>
    
    <% if (filters.length > 0) { %>
      <%- include('../Modals/filterModal.ejs', { filters: filters }); %>
    <% } %>

  </form>
  
  <form action="/profile/admin/messages/delete" method="get" class="message__records-container">
    <div class="message__records-header">
      <div class="select-all">
        <input type="checkbox" name="selectAll" value="selectAll" id="selectAll">
        <label for="selectAll">Select All</label>
      </div>
      
      <div class="delete-selected">
        <button type="submit">Delete Selected Items</button>
      </div>
    </div>
    
    <%- include("../components/adminMessagesRecords", { messages: messages}) %>
  </form>

  <form action="/profile/admin/messages/pagination" method="get" class="pagination-container">
    <button class="previous<%= currentPage != 1 ? '-active' : '';%>">
      <input type="radio" name="pagination" value="<%= currentPage - 1 %>" id="<%= currentPage - 1 %>" />
      <label name="pagination" value="<%= currentPage - 1 %>" for="<%= currentPage - 1 %>">Previous Page</label>
    </button>
    <button>
      <input type="radio" name="pagination" value="<%= 1 %>" id="<%= 1 %>" <%= currentPage === 1 ? "checked" : null   %> />
      <label name="pagination" value="<%= 1 %>" for="<%= currentPage %>">1</label>
    </button>
    <% if(currentPage != 1) { %>
      <button>
        <input type="radio" name="pagination" value="<%= currentPage %>" id="<%= currentPage %>" checked />
        <label name="pagination" value="<%= currentPage %>" for="<%= currentPage %>"><%= currentPage %></label>
      </button>
    <% } %>
    <% if(endingPage != currentPage) { %>
      <button>
        <input type="radio" name="pagination" value="<%= endingPage %>" id="<%= endingPage %>" />
        <label name="pagination" value="<%= endingPage %>" for="<%= endingPage %>"><%= endingPage %></label>
      </button>
    <% } %>
    <button class="next<%= currentPage != endingPage ? '-active' : '';%>">
      <input type="radio" name="pagination" value="<%= currentPage + 1 %>" id="<%= currentPage + 1 %>" />
      <label name="pagination" value="<%= currentPage + 1 %>" for="<%= currentPage + 1 %>">Next Page</label>
    </button>
    <input type="hidden" name="login" value="<%= login %>">
    <input type="hidden" name="messages" value="<%= messages %>">
    <input type="hidden" name="select" value="<%= select %>">
    <input type="hidden" name="searchText" value="<%= searchText %>">

  </form>

</div>

